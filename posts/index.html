<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><link rel=icon type=image/ico href=https://sirimhrzn.github.io//favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://sirimhrzn.github.io//favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://sirimhrzn.github.io//favicon-32x32.png><link rel=icon type=image/png sizes=192x192 href=https://sirimhrzn.github.io//android-chrome-192x192.png><link rel=apple-touch-icon sizes=180x180 href=https://sirimhrzn.github.io//apple-touch-icon.png><link rel=alternate type=application/rss+xml href=https://sirimhrzn.github.io/posts/index.xml title=Siri><meta name=description content><title>Posts | Siri
</title><link rel=canonical href=https://sirimhrzn.github.io/posts/><meta property="og:url" content="https://sirimhrzn.github.io/posts/"><meta property="og:site_name" content="Siri"><meta property="og:title" content="Posts"><meta property="og:description" content="A Tech Blog"><meta property="og:locale" content="en_us"><meta property="og:type" content="website"><link rel=stylesheet href=/assets/combined.min.14e1218b5e9a0404dee05846c1ffd60757d618f79d3897fdd4eea5f441a9a7af.css media=all></head><body class=auto><div class=content><header><div class=header><h1 class=header-title><a href=https://sirimhrzn.github.io/>Siri</a></h1><div class=flex><p class=small><a href=/>/home</a></p><p class="small bold"><a href=/posts>/posts</a></p></div></div></header><main class=main><div class=list-container><h1>Posts</h1><div class=post-line><p class=line-date>1 Nov 2024</p><div><p class=line-title><a href=/posts/nix-laravel-02/>Part 1: Using Nix to package Laravel/Lumen</a></p><p class=line-summary>The project I will be packaging is a fairly old project running Laravel/Lumen 5.7 with php73 and we will also be using flakes. We have three options for packaging Laravel applications :
Write derivation from scratch using stdenv.mkDerivation Use pkgs.php.buildComposerProject builder from nixpkgs Use composer2nix to generate nix expressions for composer packages While writing your own derivation is generally good if you want to have more control over the different phases of builds & installs, but you might have to do some extra work to manage output hashes for your dependencies i.</p></div></div><div class=post-line><p class=line-date>1 Nov 2024</p><div><p class=line-title><a href=/posts/nix-laravel-01/>Part 0: Integrating Nix for CI, Package Management ft. Laravel</a></p><p class=line-summary>I would like to keep things short and simple so if you do not know about nix i will be listing couple resources to follow and these are the things I will be achieving by the end of this series.
Package Laravel using nix Build container image with nix Setup gitlab-runner and run CI with nix Setup a binary cache server Simple Integration Test using testers.runNixOSTest Why nix? I want my production to be running the same runtime dependencies I used during development.</p></div></div></div></main></div><footer><p>Powered by
<a href=https://gohugo.io/>Hugo</a>
and
<a href=https://github.com/tomfran/typo>tomfran/typo</a></p></footer></body><script>function isAuto(){return document.body.classList.contains("auto")}function setTheme(){if(!isAuto())return;document.body.classList.remove("auto");let e="light";window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(e="dark"),document.body.classList.add(e)}function invertBody(){document.body.classList.toggle("dark"),document.body.classList.toggle("light")}isAuto()&&window.matchMedia("(prefers-color-scheme: dark)").addListener(invertBody),setTheme()</script></html>